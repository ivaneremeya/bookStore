"use strict";(self.webpackChunkproxyclient=self.webpackChunkproxyclient||[]).push([[561],{7862:(e,r,t)=>{t.d(r,{A:()=>o});t(5043);const o=t.p+"static/media/book-2-svgrepo-com.a102b1200a61f1a1ea86d67d5995c39a.svg"},9516:(e,r,t)=>{t.d(r,{M:()=>m});var o=t(5043),a=t(6946),n=t(4496),s=t(9314),i=t(4117),c=t(8056),l=t(1249),d=t(7862),u=t(4725),x=t(3896),p=t(4611),b=t(5992),f=t(579);const h=e=>{let{bookId:r,carts:t}=e;const[a,n]=(0,o.useState)(0),s=(0,l.j)(),{t:c}=(0,i.Bd)(["bookCard","error"]),d=(0,o.useCallback)((async e=>{const o=t.find((e=>e.book_id===r));try{o?await s((0,x.I)({book_id:r,amount:o.amount+e,errorMessage:c("error:cartPatchError")})).unwrap():await s((0,x.I)({book_id:r,amount:e,errorMessage:c("error:cartPatchError")})).unwrap(),await s((0,u.Z)()).unwrap()}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",a)}n(0)}),[s,r,t]),h=(0,p.d)((e=>{d(e)}),300);return(0,f.jsx)("button",{className:b.A.button__cart,type:"button",onClick:()=>{n((e=>e+1)),h(a+1)},children:c("bookCard:purchase")})},m=e=>{let{id:r,title:t,price:o,descr:u}=e;const x=(0,l.G)((e=>e.cart.item)),{t:p}=(0,i.Bd)(["bookCard"]);return(0,f.jsxs)(s.A,{variant:"outlined",style:{display:"flex",flexDirection:"column"},children:[(0,f.jsxs)(c.A,{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,f.jsx)(n.A,{variant:"h5",component:"div",children:t}),(0,f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,f.jsx)("img",{src:d.A,alt:"Logo",style:{width:"80%",height:"auto"}})}),(0,f.jsx)(n.A,{style:{marginBottom:"10px"},variant:"body2",children:u}),(0,f.jsxs)(n.A,{variant:"body2",children:[p("bookCard:price"),o]})]}),(0,f.jsx)(a.A,{sx:{padding:4,display:"flex",justifyContent:"center"},children:(0,f.jsx)(h,{bookId:r,carts:x})})]})}},4611:(e,r,t)=>{t.d(r,{d:()=>a});var o=t(5043);const a=(e,r)=>{const t=o.useRef(null),a=o.useCallback((o=>{clearTimeout(t.current),t.current=setTimeout((()=>{e(o)}),r)}),[e,r]);return o.useEffect((()=>{clearTimeout(t.current)}),[]),a}},4561:(e,r,t)=>{t.r(r),t.d(r,{default:()=>b});var o=t(5043),a=t(170),n=t.n(a),s=t(5204),i=t(4117),c=t(9516),l=t(1249),d=t(3597),u=t(7388);const x="home_fadeIn__rCmg5";var p=t(579);const b=()=>{const e=(0,l.j)(),r=(0,l.G)((e=>e.bookList.books)),[t,a]=o.useState(!1),{t:b}=(0,i.Bd)(["error"]);return o.useEffect((()=>{r.length?a(!0):e((0,d.x1)({errorMessage:b("error:BookError")})).then((()=>{a(!0)}))}),[r,e]),(0,p.jsx)("div",{children:t?(0,p.jsx)(n(),{animation:"slide",indicators:!0,navButtonsAlwaysVisible:!0,navButtonsAlwaysInvisible:!1,cycleNavigation:!0,fullHeightHover:!1,sx:{flexGrow:1,margin:"auto",mt:5},children:r.map((e=>(0,p.jsx)(s.A,{sx:{position:"relative",backgroundColor:"grey.100",color:"#fff",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",borderRadius:"10px",p:4},elevation:10,className:x,children:(0,p.jsx)(c.M,{id:e.id,price:e.price,descr:e.description,title:e.title})},e.id)))}):(0,p.jsx)(u.a,{})})}}}]);
//# sourceMappingURL=561.bbde27a5.chunk.js.map